import Testing as t;
import ProgramOptions as po;

short_option() {
	h = po.Handler( "TestRun", "TestDoc" );
	h.add_option( "O", po.VALUE_REQUIREMENT.NONE, "short option no args" );
	args = h.command_line( ["TestRun", "-O"] );
	t.ensure_true( args.options['O'] );
	h.add_option( "C", po.VALUE_REQUIREMENT.OPTIONAL, "optional arg and only short form", real, "frac", 0.25 );
	args = h.command_line( ["TestRun", "-C.2"] );
	t.ensure_equals( args.options['C'], 0.2 );
	args = h.command_line( ["TestRun", "-C"] );
	t.ensure_equals( args.options['C'], 0.25 );
	h.add_option( "foo,F", po.VALUE_REQUIREMENT.REQUIRED, "a good companion to bar", string, "2rama", "defFoo" );
	args = h.command_line( ["TestRun", "-Fala"] );
	t.ensure_equals( args.options["foo"], "ala" );
}

